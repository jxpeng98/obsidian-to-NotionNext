---
title: 同步笔记
description: 如何使用 NotionNext 插件将你的 Obsidian 笔记同步到 Notion
---

# 同步笔记

在插件设置中配置好你的 Notion 数据库后，你就可以开始将 Obsidian 笔记同步到 Notion 了。

## 手动同步

要同步一篇笔记，只需打开你想要同步的笔记，然后从命令面板（`Ctrl/Cmd + P`）或笔记的右键菜单中选择 "Share to NotionNext" 命令。这会在你的 Notion 数据库中创建一个新页面，内容与你的 Obsidian 笔记完全一致。

## 自动同步

插件支持自动同步功能，可以监控你的笔记变化并自动同步到 Notion。

### 启用自动同步

1. 打开插件设置
2. 在通用设置下找到"自动同步"开关
3. 开启该开关
4. 配置"自动同步延迟时间"（默认：5秒，最小：2秒）

### 自动同步工作原理

当自动同步启用后：

- 插件会监控 Markdown 文件的变化
- 在你停止编辑达到配置的延迟时间后，自动触发同步
- 只有已经同步过的文件（frontmatter 中有 NotionID）才会被自动同步
- 如果文件关联了多个数据库，会自动同步到所有数据库

### 自动同步场景示例

#### 场景 A：新文档（未同步）

```yaml
---
title: 我的新文章
tags: [博客, 技术]
---
```

**行为：**

- ✅ 检测到没有 NotionID
- ✅ 显示提示："⚠️ 自动同步跳过：此文档未同步到 Notion，请先手动上传"
- ✅ 不执行同步操作
- 📝 **需要操作：** 先使用命令面板手动同步文档

#### 场景 B：已同步到一个数据库

```yaml
---
title: 我的文章
NotionID-blog: abc123
---
```

**行为：**

- ✅ 检测到 1 个 NotionID
- ✅ 自动同步到 Blog 数据库
- ✅ 显示上传命令返回的成功/失败通知
- 📝 **无需操作：** 变更会自动同步

#### 场景 C：同步到多个数据库

```yaml
---
title: 我的文章  
NotionID-blog: abc123
NotionID-portfolio: def456
NotionID-notes: ghi789
---
```

**行为：**

- ✅ 检测到 3 个 NotionID
- ✅ 显示提示："🔄 自动同步：正在同步到 3 个数据库..."
- ✅ 依次同步到所有 3 个数据库
- ✅ 为每个数据库显示独立的结果通知
- 📝 **无需操作：** 变更会自动同步到所有关联的数据库

### 自动同步最佳实践

1. **首次手动同步**：始终先手动执行第一次同步以建立 NotionID 链接
2. **合理配置延迟**：如果你经常编辑，设置较长的延迟时间（5-10 秒）
3. **监控同步状态**：注意查看通知以确保同步成功完成
4. **查看日志**：打开开发者控制台（Ctrl+Shift+I / Cmd+Option+I）查看详细的同步日志

### 故障排除

遇到自动同步问题？请查看[问题排查指南](05-troubleshooting.md)获取常见问题的详细解决方案。
